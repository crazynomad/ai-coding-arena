<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>3D Relativistic Gravity Sandbox</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div id="canvas-container"></div>

    <!-- Top bar -->
    <div id="top-bar">
        <h1>üåå Relativistic Gravity Sandbox</h1>
        <div id="top-controls">
            <button id="btn-pause" title="Pause/Resume">‚è∏Ô∏è</button>
            <button id="btn-reset" title="Reset">üîÑ</button>
            <button id="btn-add" title="Add Body">‚ûï Add Body</button>
            <button id="btn-preset" title="Load Preset">ü™ê Solar Preset</button>
        </div>
    </div>

    <!-- Side panel -->
    <div id="side-panel">
        <div class="panel-section">
            <h3>Simulation</h3>
            <label>Gravity Strength: <span id="val-gravity">1.0</span>
                <input type="range" id="slider-gravity" min="0" max="3" step="0.05" value="1">
            </label>
            <label>Sim Speed: <span id="val-speed">1.0</span>
                <input type="range" id="slider-speed" min="0" max="5" step="0.1" value="1">
            </label>
            <label>Trail Length: <span id="val-trail">120</span>
                <input type="range" id="slider-trail" min="0" max="500" step="10" value="120">
            </label>
        </div>
        <div class="panel-section">
            <h3>Overlays</h3>
            <label><input type="checkbox" id="toggle-curvature" checked> Curvature Grid</label>
            <label><input type="checkbox" id="toggle-trails" checked> Trails</label>
            <label><input type="checkbox" id="toggle-vectors"> Velocity Vectors</label>
            <label><input type="checkbox" id="toggle-glow" checked> Body Glow</label>
        </div>
        <div class="panel-section">
            <h3>Bodies <span id="body-count">(0)</span></h3>
            <div id="body-list"></div>
        </div>
    </div>

    <!-- Add body modal -->
    <div id="modal-overlay" class="hidden">
        <div id="modal">
            <h3>Add New Body</h3>
            <div class="modal-grid">
                <label>Name <input type="text" id="inp-name" value="Planet"></label>
                <label>Mass <input type="number" id="inp-mass" value="5" step="1"></label>
                <label>Radius <input type="number" id="inp-radius" value="1" step="0.1"></label>
                <label>Color <input type="color" id="inp-color" value="#4fc3f7"></label>
                <label>X <input type="number" id="inp-x" value="25" step="1"></label>
                <label>Y <input type="number" id="inp-y" value="0" step="1"></label>
                <label>Z <input type="number" id="inp-z" value="0" step="1"></label>
                <label>VX <input type="number" id="inp-vx" value="0" step="0.5"></label>
                <label>VY <input type="number" id="inp-vy" value="0" step="0.5"></label>
                <label>VZ <input type="number" id="inp-vz" value="24" step="0.5"></label>
            </div>
            <div class="modal-buttons">
                <button id="btn-modal-add">Add</button>
                <button id="btn-modal-cancel">Cancel</button>
            </div>
        </div>
    </div>

    <!-- Info tooltip -->
    <div id="info-bar">
        <span id="info-text">Hover a body for info ¬∑ Scroll to zoom ¬∑ Drag to orbit ¬∑ Shift+drag to pan</span>
    </div>

    <script type="importmap">
    {
        "imports": {
            "three": "https://unpkg.com/three@0.162.0/build/three.module.js",
            "three/addons/": "https://unpkg.com/three@0.162.0/examples/jsm/"
        }
    }
    </script>
    <script type="module" src="script.js"></script>
</body>
</html>
